<!DOCTYPE html>
<html>
  <head>
    <title>My Weather App</title>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        text-align: center;
        background-image: url("bg.jpg");
        background-size: cover;
        background-color: #cccccc;
       }
    </style>

  </head>
  <body class="container">
    <div class="jumbotron">
      <h2>AVI's Weather app</h2><br>
      <input type="text" class="form-control" id="city" placeholder="Enter City name"/><br><br>
      <button type="submit" class="btn btn-lg btn-primary" onclick="sub()">Submit</button>
    </div>
    <div id="new" class="jumbotron">
    </div>
    <script>
var api;
var txt;
function sub(){
  txt = "";
  var city = document.getElementById('city').value;
  var api = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&APPID=ee317190ef150d4fd92c7bbbb1922f41";
  $.getJSON(api,(data)=>{
    var key = Object.keys(data['main']);
    console.log(key);
    txt = "<h3>Temperature: "+ (data['main'][key[0]] -273).toFixed(2) + " C</h3>"+
    "<h3>Feels like: "+ (data['main'][key[1]] -273).toFixed(2) + " C</h3>"+
    "<h3>Temp minimum: "+ (data['main'][key[2]] -273).toFixed(2) + " C</h3>"+
    "<h3>Temp maximum: "+ (data['main'][key[3]] -273).toFixed(2) + " C</h3>"+
    "<h3>Pressure: "+ (data['main'][key[4]]).toFixed(2) + " mb</h3>"+
    "<h3>Humidity: "+ (data['main'][key[5]]).toFixed(2) + " </h3>";
  document.getElementById('new').innerHTML = txt;
  })
}
    </script>
  </body>

</html>
